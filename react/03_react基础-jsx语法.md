## 一. **认识JSX**

![](../imgs/react/%E8%AE%A4%E8%AF%86jsx.png)

- **这段element变量的声明右侧赋值的标签语法是什么呢？**
  - 它不是一段字符串（因为没有使用引号包裹）
  - 它看起来是一段HTML元素，但是我们能在js中直接给一个变量赋值html吗？
  - 其实是不可以的，如果我们将 type="text/babel" 去除掉，那么就会出现语法错误
  - 它到底是什么呢？其实它是一段**jsx的语法**
- **JSX是什么？**
  - JSX是一种JavaScript的语法扩展（eXtension），也在很多地方称之为**JavaScript XML**，因为看起就是一段XML语法
  - 它用于描述我们的UI界面，并且其完成可以和**JavaScript融合在一起使用**
  - 它不同于Vue中的模块语法，你不需要专门学习模块语法中的一些指令（比如v-for、v-if、v-else、v-bind）

## 二. **为什么React选择了JSX**

- **React认为渲染逻辑**本质上与其他**UI逻辑存在内在耦合**
  - 比如UI需要绑定事件（button、a原生等等）
  - 比如UI中需要展示数据状态
  - 比如在某些状态发生改变时，又需要改变UI
  - 他们之间是密不可分，所以React没有将标记分离到不同的文件中，而是将它们组合到了一起，这个地方就是**组件（Component）**
  - JSX其实是嵌入到JavaScript中的一种结构语法
- **JSX的书写规范：**
  - JSX的顶层**只能有一个根元素**，所以我们很多时候会在外层包裹一个div元素（或者使用Fragment）
  - 为了方便阅读，我们通常在jsx的外层包裹一个小括号()，这样可以方便阅读，并且jsx可以进行换行书写
  - JSX中的标签可以是单标签，也可以是双标签
    - 注意：如果是单标签，必须以/>结尾

## 三. **JSX的使用**

- **jsx中的注释**

  ```html
  {/*jsx注释*/}
  ```

- **JSX嵌入变量作为子元素**

  - 情况一：当变量是Number、String、Array类型时，可以直接显示
  - 情况二：当变量是null、undefined、Boolean类型时，内容为空
    - 如果希望可以显示null、undefined、Boolean，那么需要转成字符串
    - 转换的方式有很多，比如toString方法、和空字符串拼接，String(变量)等方式
  - 情况三：Object对象类型不能作为子元素（not valid as a React child）

- **JSX嵌入表达式**

  - 运算表达式
  - 三元运算符
  - 执行一个函数

- **jsx绑定属性**

  - 比如元素都会有title属性
  - 比如img元素会有src属性
  -  比如a元素会有href属性
  - 比如元素可能需要绑定class
  - 比如原生使用内联样式style

## 四. **React事件绑定**

- **如果原生DOM原生有一个监听事件，我们可以如何操作呢？**
  - 方式一：获取DOM原生，添加监听事件
  - 方式二：在HTML原生中，直接绑定onclick
- **在React中是如何操作呢？**
  - React 事件的命名采用**小驼峰式**（camelCase），而不是纯小写
  - 我们需要通过**{}传入一个事件处理函数**，这个函数会在事件发生时被执行

### 4.1 **this的绑定问题**

- **在事件执行后，我们可能需要获取当前类的对象中相关的属性，这个时候需要用到this**

  - 如果我们这里直接打印this，也会发现它是一个undefined

- **为什么是undefined呢？**

  - 原因是btnClick函数**并不是我们主动调用的**，而且当button发生改变时，**React内部调用了btnClick函数**
  - 而它内部调用时，并不知道要如何绑定正确的this

- **如何解决this的问题呢？**

  -  方案一：bind给btnClick显示绑定this
  - 方案二：使用 ES6 class fields 语法
  -  方案三：事件监听时传入箭头函数（个人推荐）

  <img src="../imgs/react/this%E7%BB%91%E5%AE%9A.png" style="zoom:80%;" />

<img src="../imgs/react/this%E4%B8%89%E7%A7%8D%E7%BB%91%E5%AE%9A%E6%96%B9%E5%BC%8F.png" style="zoom:80%;" />

### 4.2 **事件参数传递**

- **在执行事件函数时，有可能我们需要获取一些参数信息：比如event对象、其他参数**
- **情况一：获取event对象**
  - 很多时候我们需要拿到event对象来做一些事情（比如阻止默认行为）
  - 那么默认情况下，event对象有被直接传入，函数就可以获取到event对象
- **情况二：获取更多参数**
  - 有更多参数时，我们最好的方式就是**传入一个箭头函数，主动执行的事件函数，并且传入相关的其他参数**

<img src="../imgs/react/%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92.png" style="zoom: 80%;" />

## 五. **React条件渲染**

- **某些情况下，界面的内容会根据不同的情况显示不同的内容，或者决定是否渲染某部分内容**

  - 在vue中，我们会通过指令来控制：比如v-if、v-show
  - 在React中，**所有的条件判断都和普通的JavaScript代码一致**

- **常见的条件渲染的方式有哪些呢？**

  - **方式一：条件判断语句**
    - 适合逻辑较多的情况
  - **方式二：三元运算符**
    - 适合逻辑比较简单
  - **方式三：与运算符&&**
    - 适合如果条件成立，渲染某一个组件；如果条件不成立，什么内容也不渲染
  - **可选链 ?.**
  - **v-show的效果**
    - 主要是控制display属性是否为none

  

## 六. **React列表渲染**

- **真实开发中我们会从服务器请求到大量的数据，数据会以列表的形式存储**
  - 比如歌曲、歌手、排行榜列表的数据
  - 比如商品、购物车、评论列表的数据
  - 比如好友消息、动态、联系人列表的数据
- **在React中并没有像Vue模块语法中的v-for指令，而且需要我们通过JavaScript代码的方式组织数据，转成JSX**
- **如何展示列表呢？**
  - 在React中，展示列表最多的方式就是使用数组的map高阶函数
- **很多时候我们在展示一个数组中的数据之前，需要先对它进行一些处理**
  - 比如过滤掉一些内容：**filter函数**
  - 比如截取数组中的一部分内容：**slice函数**

![](../imgs/react/%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93%E9%93%BE%E5%BC%8F%E8%B0%83%E7%94%A8.png)













