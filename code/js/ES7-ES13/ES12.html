<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // 1. FinalizationRegistry: 对象可以让你在对象被垃圾回收时请求一个回调
    // let obj = { name: 'bob' }
    // const regis = new FinalizationRegistry(v => {
    //   console.log('对象被销毁了', v)
    // })
    // regis.register(obj, 'aa')

    // obj = null

    // 2. WeakRef(): 弱引用
    // const obj = { name: 'bob' }  // 默认强引用
    // const info = new WeakRef(obj)
    // console.log(info)
    // const res = info.deref()
    // console.log(res)

    // 3. logical assignment operators
    // let num = 100
    // const res = num += 200 
    // console.log(res)
    // let str = ''

    // // const res1 = str ||= '默认值'
    // const res2 = str ??= '默认值'
    // // console.log(res1)
    // console.log(res2)

    // let obj = { name: 'bob' }
    // const res3 = obj &&= obj.name
    // console.log(res3)

    // 4. replaceAll() 字符串替换
    const str = 'asssdsdsdfs'
    const res1 = str.replace('d', 'D')
    const res2 = str.replaceAll('d', 'D')
    console.log(res1)
    console.log(res2)


  </script>
</body>

</html>